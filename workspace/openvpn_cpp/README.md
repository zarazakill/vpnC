# OpenVPN на C++

Реализация OpenVPN клиента на C++ с поддержкой всех основных функций протокола OpenVPN.

## Функциональность

- Поддержка OpenVPN протокола (управление сессией, ключи, пакеты)
- Работа с TUN/TAP интерфейсами
- Обработка конфигурационных файлов
- Система переподключения
- Поддержка аутентификации
- Многопоточность для обработки данных

## Архитектура

Реализация структурирована в несколько модулей:

### 1. Парсер конфигураций (`config_parser.h/cpp`)
- Разбор OpenVPN конфигурационных файлов (.ovpn)
- Обработка различных параметров конфигурации, таких как удаленный сервер, аутентификация, сертификаты и т.д.

### 2. Интерфейс TUN (`tun_interface.h/cpp`)
- Управление созданием и взаимодействием с TUN устройствами
- Обработка чтения из и записи в TUN интерфейс
- Использование системных вызовов для взаимодействия с `/dev/net/tun`

### 3. Менеджер аутентификации (`authentication_manager.h/cpp`)
- Обработка пользовательской аутентификации
- Генерация токенов аутентификации
- Управление учетными данными из конфигурационных файлов

### 4. Сессия OpenVPN (`openvpn_session.h`)
- Управление состоянием сессии, включая ID сессии, ключи и временные метки
- Хранение ключей шифрования и HMAC для безопасной связи

### 5. Протокол OpenVPN (`openvpn_protocol.h/cpp`)
- Реализация структуры пакетов протокола OpenVPN
- Создание и разбор управляющих и данных пакетов
- Обработка генерации и управления ключами

### 6. Менеджер переподключения (`reconnection_manager.h/cpp`)
- Управление логикой автоматического переподключения
- Настраиваемые интервалы повторных попыток и максимальное количество попыток
- Мониторинг статуса соединения и запуск переподключения при необходимости

### 7. Клиент OpenVPN (`openvpn_client.h/cpp`)
- Основной класс клиента, координирующий все компоненты
- Управление SSL/TLS соединениями
- Обработка многопоточной обработки пакетов

## Требования

- C++17
- OpenSSL
- CMake
- Linux (для работы с TUN-устройствами)

## Сборка

```bash
mkdir build
cd build
cmake ..
make
```

## Использование

```bash
./openvpn_cpp config.ovpn
```

Где `config.ovpn` - путь к конфигурационному файлу OpenVPN.
